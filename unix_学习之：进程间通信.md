# Unix 学习之：进程间通信

* 同主机进程间的通信
	* 半双工管道
	* FIFO
	* 全双工管道
	* 命令全双工管道
	* XSL消息队列
	* XSL信号量
	* XSL共享存储
	* 消息队列（实时）
	* 信号量
	* 共享存储（实时）
* 不同主要进程间的通信
	* 套接字


## 管道


### 什么是管道？

管道是unix进程间通信的一种方式，也是最常见的一种方式。所有UNIX系统都提供此种通信机制。

#### 管道的两种局限性：

1. 它是半双工的，虽然有全双工的实现，但移植性可能是个问题。
2. 能通信的管道必须有公共的祖先。通常情况，一个进程他妈管道，然后这个进程fork另外一个进程，管道在父子进程间通信。

> FIFO没有第二种局限性，UNIX套接字没有这两种局限性。






### 如何实现一个管道？

管道由pipe函数创建：

```
#include <unistd.h>

/// 成功返回0，失败返回 -1
int pipe(int fd[2]);

```
参数fd返回两个文件描述符:

1. fd[0]为读而打开
2. fd[1]为写而打开

fd[1]的输出是fd[0]的输入。


### 实例